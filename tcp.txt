TCP a) hello msg
--step1) nano hello_server.c
--step2) paste below code:
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <arpa/inet.h>

#define PORT 8080
#define BUF_SIZE 1024

int main() {
    int server_fd, new_socket;
    struct sockaddr_in address;
    int addrlen = sizeof(address);
    char buffer[BUF_SIZE] = {0};
    char *reply = "Hello from Server!";

    // 1. Create socket
    server_fd = socket(AF_INET, SOCK_STREAM, 0);
    if (server_fd < 0) {
        perror("socket");
        exit(1);
    }

    // 2. Fill address structure
    address.sin_family = AF_INET;
    address.sin_addr.s_addr = INADDR_ANY;   // listen on all interfaces
    address.sin_port = htons(PORT);

    // 3. Bind
    if (bind(server_fd, (struct sockaddr *)&address, sizeof(address)) < 0) {
        perror("bind");
        close(server_fd);
        exit(1);
    }

    // 4. Listen
    if (listen(server_fd, 3) < 0) {
        perror("listen");
        close(server_fd);
        exit(1);
    }
    printf("Server listening on port %d...\n", PORT);

    // 5. Accept one client
    new_socket = accept(server_fd, (struct sockaddr *)&address, (socklen_t *)&addrlen);
    if (new_socket < 0) {
        perror("accept");
        close(server_fd);
        exit(1);
    }

    // 6. Receive message from client
    read(new_socket, buffer, BUF_SIZE);
    printf("Client says: %s\n", buffer);

    // 7. Send reply to client
    send(new_socket, reply, strlen(reply), 0);
    printf("Hello message sent to client.\n");

    // 8. Close sockets
    close(new_socket);
    close(server_fd);

    return 0;
}

--step3) Press Ctrl + O → Enter, Press Ctrl + X
--step4) nano hello_client.c
--step5) paste below code
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <arpa/inet.h>

#define PORT 8080
#define BUF_SIZE 1024

int main() {
    int sock;
    struct sockaddr_in serv_addr;
    char buffer[BUF_SIZE] = {0};
    char *hello = "Hello from Client!";

    // 1. Create socket
    sock = socket(AF_INET, SOCK_STREAM, 0);
    if (sock < 0) {
        perror("socket");
        exit(1);
    }

    // 2. Fill server address
    serv_addr.sin_family = AF_INET;
    serv_addr.sin_port = htons(PORT);

    // 127.0.0.1 = same machine (localhost)
    if (inet_pton(AF_INET, "127.0.0.1", &serv_addr.sin_addr) <= 0) {
        perror("inet_pton");
        close(sock);
        exit(1);
    }

    // 3. Connect to server
    if (connect(sock, (struct sockaddr *)&serv_addr, sizeof(serv_addr)) < 0) {
        perror("connect");
        close(sock);
        exit(1);
    }

    // 4. Send hello to server
    send(sock, hello, strlen(hello), 0);
    printf("Hello message sent to server.\n");

    // 5. Receive reply from server
    read(sock, buffer, BUF_SIZE);
    printf("Server says: %s\n", buffer);

    // 6. Close socket
    close(sock);
    return 0;
}

--step6)Press Ctrl + O, Enter, Ctrl + X
--step7) run:
gcc hello_server.c -o hello_server
gcc hello_client.c -o hello_client
--step8) terminal 1 run
./hello_server
--step9) terminal 2 run
./hello_client

((((((((b) file transfer
--step1] nano file_server.c
--step2] paste below code:
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <arpa/inet.h>

#define PORT 8081
#define BUF_SIZE 1024

int main() {
    int server_fd, new_socket;
    struct sockaddr_in address;
    int addrlen = sizeof(address);
    char buffer[BUF_SIZE];
    char filename[256];
    FILE *fp;

    // 1. Create socket
    server_fd = socket(AF_INET, SOCK_STREAM, 0);
    if (server_fd < 0) {
        perror("socket");
        exit(1);
    }

    // 2. Fill address structure
    address.sin_family = AF_INET;
    address.sin_addr.s_addr = INADDR_ANY;
    address.sin_port = htons(PORT);

    // 3. Bind
    if (bind(server_fd, (struct sockaddr *)&address, sizeof(address)) < 0) {
        perror("bind");
        close(server_fd);
        exit(1);
    }

    // 4. Listen
    if (listen(server_fd, 3) < 0) {
        perror("listen");
        close(server_fd);
        exit(1);
    }
    printf("File server listening on port %d...\n", PORT);

    // 5. Accept one client
    new_socket = accept(server_fd, (struct sockaddr *)&address, (socklen_t *)&addrlen);
    if (new_socket < 0) {
        perror("accept");
        close(server_fd);
        exit(1);
    }

    // 6. Receive filename from client
    memset(filename, 0, sizeof(filename));
    read(new_socket, filename, sizeof(filename));
    printf("Client requested file: %s\n", filename);

    // 7. Open requested file
    fp = fopen(filename, "rb");
    if (fp == NULL) {
        perror("File open failed");
        close(new_socket);
        close(server_fd);
        exit(1);
    }

    // 8. Send file contents to client
    int n;
    while ((n = fread(buffer, 1, BUF_SIZE, fp)) > 0) {
        if (send(new_socket, buffer, n, 0) == -1) {
            perror("send");
            break;
        }
    }
    printf("File transfer complete.\n");

    // 9. Close everything
    fclose(fp);
    close(new_socket);
    close(server_fd);

    return 0;
}
--step3] Press Ctrl + O → Enter, Press Ctrl + X
--step4] nano file_client.c
--step5] paste
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>
#include <arpa/inet.h>

#define PORT 8081
#define BUF_SIZE 1024

int main() {
    int sock;
    struct sockaddr_in serv_addr;
    char buffer[BUF_SIZE];
    char filename[256];
    FILE *fp;

    // 1. Create socket
    sock = socket(AF_INET, SOCK_STREAM, 0);
    if (sock < 0) {
        perror("socket");
        exit(1);
    }

    // 2. Fill server address
    serv_addr.sin_family = AF_INET;
    serv_addr.sin_port = htons(PORT);

    // 127.0.0.1 = same machine (localhost)
    if (inet_pton(AF_INET, "127.0.0.1", &serv_addr.sin_addr) <= 0) {
        perror("inet_pton");
        close(sock);
        exit(1);
    }

    // 3. Connect to server
    if (connect(sock, (struct sockaddr *)&serv_addr, sizeof(serv_addr)) < 0) {
        perror("connect");
        close(sock);
        exit(1);
    }

    // 4. Ask user which file to request
    printf("Enter filename to request: ");
    scanf("%s", filename);

    // 5. Send filename to server
    send(sock, filename, strlen(filename), 0);

    // 6. Open local file to store received data
    fp = fopen("received_file", "wb");
    if (fp == NULL) {
        perror("File open for write failed");
        close(sock);
        exit(1);
    }

    // 7. Receive file data from server and write to local file
    int n;
    while ((n = read(sock, buffer, BUF_SIZE)) > 0) {
        fwrite(buffer, 1, n, fp);
    }

    printf("File received successfully as 'received_file'.\n");

    // 8. Close everything
    fclose(fp);
    close(sock);

    return 0;
}
--step6] Press Ctrl + O → Enter, Press Ctrl + X
--step7] paste:
nano notes.txt
--step8] paste:
echo "This is a test file for TCP file transfer."
--step9] Press Ctrl + O → Enter, Press Ctrl + X
--step10] ls
--step11] paste:
gcc file_server.c -o file_server
gcc file_client.c -o file_client
--step12] in terminal1:
./file_server
--step13] in terminal2:
./file_client
--step14] paste:
notes.txt
















1) TCP HELLO Message – Explanation

In the first part of the assignment, we implement a simple TCP client–server program where both sides exchange “Hello” messages. 
The server runs first and creates a TCP socket using socket(), then binds it to a port (8080) using bind() and starts listening using listen(). 
When the client connects, the server accepts the connection using accept().
On the client side, we also create a TCP socket and connect to the server using connect(). 
After the connection is established, the client sends a “Hello from Client” message to the server using send(). 
The server receives this using read(), prints it, and replies back with “Hello from Server!”. 
The client receives this reply using read() and prints it. Finally, both close their sockets.
This assignment demonstrates the basic flow of TCP communication — socket → connect/accept → send/receive — and shows how TCP provides a reliable, connection-oriented channel between client and server.

2) TCP File Transfer – Explanation

In the second part, we extend the idea to implement file transfer using TCP. 
The server again creates a TCP socket, binds it to port 8081, listens for incoming connections, and accepts a client. 
When the client connects, it sends the name of the file it wants to download (e.g., notes.txt). 
The server receives this filename, opens the file using fopen() and reads the contents in chunks (for example, 1024 bytes at a time). 
Each chunk is sent to the client using send().
On the client side, after sending the filename, it opens a new file named “received_file” in write mode. 
It continuously reads the incoming data from the server using read() and writes it to this output file. 
This continues until the server finishes sending the entire file. Finally, both close their sockets.
This assignment demonstrates how TCP can be used for reliable file transfer, guaranteeing that all bytes of the file are delivered in order and without data loss, using the socket functions send() and read().